import{b as M}from"./chunk-TR4ZIYLD.js";import"./chunk-2AT3FX7A.js";import{aa as g,ea as v,h as f,m as T}from"./chunk-SHX6CIJO.js";import{Ja as p,X as m,bb as n,cb as r,lb as c,wb as o,yb as h,za as d,zb as u}from"./chunk-DMKK32ZK.js";import"./chunk-Z27GUSSL.js";import"./chunk-7KGURMOZ.js";import"./chunk-IPDSYFFT.js";import"./chunk-RJYTLPPS.js";import"./chunk-VJIVQHDH.js";import"./chunk-ZKRXQTCG.js";import"./chunk-G3CV3VGG.js";import"./chunk-JX3TYZ34.js";import"./chunk-RUY5SX76.js";import"./chunk-NIOQNOHM.js";import"./chunk-4U6PRYVA.js";import"./chunk-IL4VJRLA.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import"./chunk-RW4GY4BD.js";var I=(()=>{let s=class s{constructor(){this.elapsedTime=0,this.elapsedMilliseconds=0,this.startTime=0,this.pausedTime=0,this.isPaused=!1,this.router=m(T),this.storageService=m(M)}ionViewWillEnter(){this.startTimer()}ionViewWillLeave(){this.stopTimer()}startTimer(){this.isPaused||(this.elapsedTime=0,this.elapsedMilliseconds=0),this.startTime=Date.now()-(this.pausedTime||0),this.timerInterval=setInterval(()=>{let t=Date.now()-this.startTime;this.elapsedTime=Math.floor(t/1e3),this.elapsedMilliseconds=t%1e3},10)}stopTimer(){this.timerInterval&&clearInterval(this.timerInterval)}formatTime(e){let t=Math.floor(e/3600),i=Math.floor(e%3600/60),l=e%60;return`${this.pad(t)}:${this.pad(i)}:${this.pad(l)}`}formatMilliseconds(e){return Math.floor(e/10).toString().padStart(2,"0")}pad(e){return e.toString().padStart(2,"0")}handlePauseReset(){this.isPaused?this.resetTimer():this.pauseTimer()}pauseTimer(){this.stopTimer(),this.isPaused=!0,this.pausedTime=this.elapsedTime*1e3+this.elapsedMilliseconds}resetTimer(){this.stopTimer(),this.isPaused=!1,this.pausedTime=0,this.startTimer()}leaveTimer(){this.storageService.saveLastTimer(new Date),this.router.navigate(["/home"])}};s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=p({type:s,selectors:[["app-timer"]],decls:10,vars:3,consts:[[1,"ion-padding"],[1,"container"],[1,"timer-display"],[1,"buttons"],["fill","outline","expand","block",1,"big-button",3,"click"],["expand","block",1,"big-button",3,"click"]],template:function(t,i){t&1&&(n(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"h1"),o(4),r()(),n(5,"div",3)(6,"ion-button",4),c("click",function(){return i.handlePauseReset()}),o(7),r(),n(8,"ion-button",5),c("click",function(){return i.leaveTimer()}),o(9,"Stop"),r()()()()),t&2&&(d(4),u("",i.formatTime(i.elapsedTime),".",i.formatMilliseconds(i.elapsedMilliseconds),""),d(3),h(" ",i.isPaused?"Reset":"Pause"," "))},dependencies:[v,f,g],styles:[".container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.timer-display[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center}.buttons[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;gap:2rem;padding:2rem}.big-button[_ngcontent-%COMP%]{height:100px;font-size:24px;--border-radius: 16px}h1[_ngcontent-%COMP%]{font-size:4rem;font-weight:700;color:var(--ion-color-primary)}"]});let a=s;return a})();export{I as TimerPage};
