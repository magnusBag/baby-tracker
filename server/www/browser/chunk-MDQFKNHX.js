import{a as z}from"./chunk-Z354AGUN.js";import{A as L,Aa as H,B as N,Ba as U,F as R,G as B,H as T,aa as x,ca as G,da as P,ea as D,fa as W,ga as q,h as y,ha as V,m as w,pa as j,ra as k,sa as A,t as s,u as F,v as M,y as _,z as E}from"./chunk-SHX6CIJO.js";import{Bb as b,Cb as I,Db as C,Ja as h,Wa as u,X as l,bb as e,cb as t,db as p,lb as f,wb as o,xb as S,yb as v,za as m}from"./chunk-DMKK32ZK.js";import"./chunk-Z27GUSSL.js";import"./chunk-7KGURMOZ.js";import"./chunk-IPDSYFFT.js";import"./chunk-RJYTLPPS.js";import"./chunk-VJIVQHDH.js";import"./chunk-ZKRXQTCG.js";import"./chunk-G3CV3VGG.js";import"./chunk-JX3TYZ34.js";import"./chunk-RUY5SX76.js";import"./chunk-NIOQNOHM.js";import"./chunk-4U6PRYVA.js";import"./chunk-IL4VJRLA.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{f as c}from"./chunk-RW4GY4BD.js";var ne=(()=>{let r=class r{constructor(){this.authService=l(z),this.formBuilder=l(R),this.router=l(w),this.selectedSegment="register",this.authForm=this.formBuilder.group({username:["",[s.required,s.minLength(3)]],password:["",[s.required,s.minLength(6)]]})}onSubmit(){return c(this,null,function*(){if(this.authForm.valid)try{let{username:a,password:n}=this.authForm.value;this.selectedSegment==="register"?yield this.authService.register(a,n):yield this.authService.login(a,n),this.router.navigate(["/"])}catch(a){console.error(`${this.selectedSegment==="register"?"Registration":"Login"} failed:`,a)}})}};r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=h({type:r,selectors:[["app-register"]],decls:23,vars:5,consts:[[1,"ion-padding"],[1,"ion-margin-bottom",3,"ngModelChange","ngModel"],["value","register"],["value","login"],[3,"ngSubmit","formGroup"],["position","floating"],["type","text","formControlName","username"],["type","password","formControlName","password"],["expand","block","type","submit",1,"ion-margin-top",3,"disabled"]],template:function(n,i){n&1&&(e(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),o(3),t()()(),e(4,"ion-content",0)(5,"ion-segment",1),C("ngModelChange",function(g){return I(i.selectedSegment,g)||(i.selectedSegment=g),g}),e(6,"ion-segment-button",2),o(7," Register "),t(),e(8,"ion-segment-button",3),o(9," Login "),t()(),e(10,"ion-card")(11,"ion-card-content")(12,"form",4),f("ngSubmit",function(){return i.onSubmit()}),e(13,"ion-item")(14,"ion-label",5),o(15,"Username"),t(),p(16,"ion-input",6),t(),e(17,"ion-item")(18,"ion-label",5),o(19,"Password"),t(),p(20,"ion-input",7),t(),e(21,"ion-button",8),o(22),t()()()()()),n&2&&(m(3),S(i.selectedSegment==="register"?"Register":"Login"),m(2),b("ngModel",i.selectedSegment),m(7),u("formGroup",i.authForm),m(9),u("disabled",!i.authForm.valid),m(),v(" ",i.selectedSegment==="register"?"Register":"Login"," "))},dependencies:[y,B,E,F,M,_,D,W,A,k,q,V,H,x,G,P,U,j,T,L,N],encapsulation:2});let d=r;return d})();export{ne as RegisterPage};
